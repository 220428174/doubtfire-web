{{unit?.name || 'Select Unit'}}

<button mat-button [matMenuTriggerFor]="menu" #menuState="matMenuTrigger">
  Select Unit <mat-icon>{{ menuState.menuOpen ? 'arrow_drop_up' : 'arrow_drop_down' }} </mat-icon>
</button>
<mat-menu #menu="matMenu" class="unit-dropdown-menu">
  <div mat-subheader [hidden]="filteredRoles?.length === 0">Units you teach</div>
  <div *ngFor="let unitRole of filteredRoles">
    <button
      *ngIf="!unitRole.teachingPeriod() || unitRole.teachingPeriod()?.active()"
      uiSref="units/tasks/inbox"
      [uiParams]="{ unitId: unitRole.unit_id }"
      fxLayout="row"
      fxLayoutAlign="start center"
      mat-menu-item
    >
      <div>{{ unitRole.unit_name }}</div>
      <span fxFlex></span>
      <mat-chip-list style="float: right" aria-label="Unit selection" style="margin-left: 10px">
        <mat-chip selected color="primary">{{ unitRole.unit_code }}</mat-chip>
      </mat-chip-list>
    </button>
  </div>

  <mat-divider [hidden]="filteredRoles?.length === 0 || projects?.length === 0"></mat-divider>
  <div mat-subheader [hidden]="projects?.length === 0">Units You Study</div>
  <div *ngFor="let project of projects">
    <button
      *ngIf="!project.teachingPeriod() || project.teachingPeriod()?.active()"
      uiSref="projects/dashboard"
      [uiParams]="{ projectId: project.project_id, taskAbbr: '' }"
      fxLayout="row"
      fxLayoutAlign="start center"
      mat-menu-item
    >
      <div>{{ project.unit_name }}</div>
      <span fxFlex></span>
      <mat-chip-list aria-label="Unit selection" style="margin-left: 10px">
        <mat-chip selected color="primary">{{ project.unit_code }}</mat-chip>
      </mat-chip-list>
    </button>
  </div>
</mat-menu>

<!-- <mat-menu #menu="matMenu">
  <button mat-menu-item *ngFor="let project of excludedProjects" (click)="removeExclusion(project)">
    {{ project.unit_code }}: {{ project.unit_name }}
  </button>
</mat-menu> -->

<!-- <mat-nav-list> -->
<!-- | filter: isUniqueUnitRole  -->
<!-- <mat-list-item *ngFor="let unitRole of filteredRoles">
    <a mat-list-item uiSref="units/tasks/inbox" [uiParams]="{ unitId: unitRole.unit_id }">
      <mat-chip-list aria-label="Fish selection">
        <mat-chip>{{ unitRole.unit_code }}</mat-chip>
      </mat-chip-list>
      <div mat-line>{{ unitRole.unit_name }}</div>
      <div mat-line>{{ showDate(unitRole.start_date) }}</div>
    </a>
  </mat-list-item> -->

<!-- <mat-divider></mat-divider> -->
<!-- <div mat-subheader>Notes</div> -->
<!-- <mat-list-item *ngFor="let note of notes"> -->
<!-- <mat-icon mat-list-icon>note</mat-icon>
    <div mat-line>{{ note.name }}</div>
    <div mat-line>{{ note.updated | date }}</div> -->
<!-- </mat-list-item> -->
<!-- </mat-nav-list> -->
